{
    "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
    "contentVersion": "1.0.0.0",
    "parameters": {
      "workspace": {
        "defaultValue": "",
        "type": "string",
        "metadata": {
          "description": "Workspace name for Log Analytics where Microsoft Sentinel is setup"
        }
      },
        "title": {
            "defaultValue": "",
            "type": "string",
            "metadata": {
            "description": "Title for the connector"
        }
      },
        "publisher": {
            "defaultValue": "",
            "type": "string",
            "metadata": {
            "description": "Publisher of the connector"
        }
      },
        "descriptionMarkdown": {
            "defaultValue": "",
            "type": "string",
            "metadata": {
            "description": "Description of what the connector is for."
        }
      },
        "graphQueries": {
            "defaultValue": "",
            "type": "string",
            "metadata": {
            "description": "Queries used by the details page to show data ingestion."
        }
      },
        "dataTypes": {
            "defaultValue": "",
            "type": "string",
            "metadata": {
            "description": "Name of the log for the connector"
        }
      },
        "instructions": {
            "defaultValue": "",
            "type": "string",
            "metadata": {
            "description": "Instructions to enable data ingestion for the connector."
        }
      },
        "InDescription": {
            "defaultValue": "",
            "type": "string",
            "metadata": {
            "description": "Description for the instructions."
        }
      },
        "InTitle": {
            "defaultValue": "",
            "type": "string",
            "metadata": {
            "description": "Title for the instructions."
        }
      }
    }, 
    "id":"[concat(parameters('workspace'), '/providers/Microsoft.SecurityInsights/dataConnectorDefinitions/{data connector definition name}')]", 
    "type":"Microsoft.OperationalInsights/dataConnectorDefinitions", 
    "name":"ConnectorDefinitionExample", 
    "kind":"Customizable", 
    "properties":{ 
        "connectorUiConfig":{ 
            "title":"parameters('title')", 
            "publisher":"parameters('publisher')", 
            "descriptionMarkdown":"parameters('descrptionMarkDown')", 
            "graphQueries":"parameters('graphQueries')", 
            "dataTypes": "parameters('dataTypes')", 
            "connectivityCriteria":[ 
            { 
                "type":"HasDataConnectors" 
            } 
        ], 
        "permissions":{ 
            "resourceProvider":[
            { 
                "provider":"Microsoft.OperationalInsights/workspaces", 
                "permissionsDisplayText":"ReadandWritepermissionsarerequired.", 
                "providerDisplayName":"Workspace", 
                "scope":"Workspace", 
                "requiredPermissions":{ 
                    "write":true, 
                    "read":true, 
                    "delete":true 
                } 
            }
        ], 
            "customs":[ 
            { 
                "name":"ExampleConnectorAPIKey", 
                "description":"TheconnectorAPIkeyusernameandpasswordisrequired" 
            } 
        ]
    }, 
    "instructionSteps":[
    { 
        "description":"parameters('InDescription')", 
        "instructions":[ 
            "parameters('instructions')"
            ], 
        "title":"parameters('InTitle')" 
        } 
    ] 
    }, 
    "connectionsConfig":{ 
    "templateSpecName":"test", 
    "templateSpecVersion":"1.0.0" 
        } 
    } 
} 
